<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Tugas Retro</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        :root {
            --bg-color: #2c3e50;
            --main-color: #f39c12;
            --accent-color: #e74c3c;
            --text-color: #ecf0f1;
            --box-shadow-color: #1a242f;
        }

        body {
            font-family: 'Press Start 2P', cursive;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            overflow: hidden;
        }

        .container {
            width: 100%;
            max-width: 800px;
            min-height: 500px;
            padding: 40px;
            background: var(--bg-color);
            border: 4px solid var(--text-color);
            box-shadow: 10px 10px 0px var(--box-shadow-color);
            position: relative;
        }

        .page {
            display: none;
            padding: 20px 0;
            animation: fade-in 0.8s ease-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Animasi "kedut" untuk tombol navigasi */
        @keyframes twitch-animation {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.05) rotate(1deg); }
            50% { transform: scale(0.95) rotate(-1deg); }
            75% { transform: scale(1.02) rotate(0.5deg); }
        }

        .twitch-btn {
            animation: twitch-animation 0.7s infinite alternate;
        }

        h1, h2 {
            color: var(--main-color);
            text-shadow: 2px 2px 0 var(--box-shadow-color);
            margin-bottom: 20px;
            font-size: 2em;
        }

        p {
            font-size: 0.8em;
            line-height: 1.6;
        }

        #play-pause {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: var(--accent-color);
            color: white;
            padding: 10px 15px;
            z-index: 10;
        }

        .button-group {
            position: absolute;
            bottom: 20px;
            width: 100%;
            left: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 40px;
            box-sizing: border-box;
        }

        .btn {
            padding: 12px 25px;
            font-size: 1em;
            cursor: pointer;
            border: none;
            border-bottom: 4px solid var(--box-shadow-color);
            border-right: 4px solid var(--box-shadow-color);
            transition: transform 0.1s, box-shadow 0.1s;
        }

        .btn:active {
            transform: translate(3px, 3px);
            border-bottom: 1px solid var(--box-shadow-color);
            border-right: 1px solid var(--box-shadow-color);
        }
        
        .btn-primary {
            background-color: var(--main-color);
            color: var(--box-shadow-color);
        }
        
        .btn-secondary {
            background-color: var(--text-color);
            color: var(--bg-color);
        }

        .btn-danger {
            background-color: var(--accent-color);
            color: white;
            padding: 8px 15px;
            font-size: 0.8em;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px auto;
            max-width: 500px;
        }
        
        .input-group input {
            padding: 10px;
            background-color: var(--text-color);
            border: 2px solid var(--box-shadow-color);
            font-family: 'Press Start 2P', cursive;
            color: var(--bg-color);
            font-size: 1em;
        }

        .task-list {
            list-style: none;
            padding: 0;
            margin: 20px auto;
            max-width: 600px;
        }

        .task-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--text-color);
            color: var(--bg-color);
            padding: 15px;
            margin-bottom: 10px;
            border-bottom: 3px solid var(--box-shadow-color);
            border-right: 3px solid var(--box-shadow-color);
            transition: transform 0.2s;
        }

        .task-list li a {
            flex-grow: 1;
            text-align: left;
            text-decoration: none;
            color: var(--bg-color);
        }
    </style>
</head>
<body>

    <div class="container">
        <audio id="bg-music" loop>
            <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
        </audio>
        <button id="play-pause" class="btn">▶️ PLAY</button>

        <div id="page-1" class="page active">
            <h1>START</h1>
            <p>TEKAN ENTER UNTUK MELANJUTKAN</p>
            <button onclick="changePage('page-2')" class="btn btn-primary twitch-btn">MASUK</button>
        </div>

        <div id="page-2" class="page">
            <h2>INFO DIRI</h2>
            <p>INI ADALAH HALAMAN UNTUK DESKRIPSI DIRI. ANDA BISA MENGGANTI TEKS INI SESUAI DENGAN KEBUTUHAN.</p>
            <div class="button-group">
                <button onclick="changePage('page-1')" class="btn btn-secondary twitch-btn">KEMBALI</button>
                <button onclick="changePage('page-3')" class="btn btn-primary twitch-btn">BERIKUTNYA</button>
            </div>
        </div>

        <div id="page-3" class="page">
            <h2>KUMPULKAN TUGAS</h2>
            <form id="task-form" class="input-group">
                <input type="text" id="task-title" placeholder="JUDUL TUGAS" required>
                <input type="url" id="task-link" placeholder="LINK TUGAS" required>
                <button type="submit" class="btn btn-primary">SIMPAN</button>
            </form>
            <div class="button-group">
                <button onclick="changePage('page-2')" class="btn btn-secondary twitch-btn">KEMBALI</button>
                <button onclick="changePage('page-4')" class="btn btn-primary twitch-btn">BERIKUTNYA</button>
            </div>
        </div>

        <div id="page-4" class="page">
            <h2>DAFTAR TUGAS</h2>
            <ul id="task-list" class="task-list">
                </ul>
            <div class="button-group">
                <button onclick="changePage('page-3')" class="btn btn-secondary twitch-btn">KEMBALI</button>
                <div></div>
            </div>
        </div>
    </div>

    <script>
        const pages = ['page-1', 'page-2', 'page-3', 'page-4'];
        let currentPage = 'page-1';
        const music = document.getElementById('bg-music');
        const playPauseBtn = document.getElementById('play-pause');
        let isMusicPlaying = false;

        function changePage(newPageId) {
            const activePage = document.getElementById(currentPage);
            const newPage = document.getElementById(newPageId);

            activePage.style.animation = 'fade-out 0.3s ease-in forwards';
            
            setTimeout(() => {
                activePage.classList.remove('active');
                newPage.classList.add('active');
                newPage.style.animation = 'fade-in 0.5s ease-out';
                currentPage = newPageId;

                // Tambahkan atau hapus animasi kedut
                document.querySelectorAll('.twitch-btn').forEach(btn => btn.classList.remove('twitch-btn'));
                if (newPageId === 'page-1') {
                    document.querySelector('#page-1 .btn').classList.add('twitch-btn');
                } else if (newPageId === 'page-2' || newPageId === 'page-3') {
                    document.querySelectorAll('.button-group .twitch-btn').forEach(btn => btn.classList.add('twitch-btn'));
                } else if (newPageId === 'page-4') {
                    document.querySelector('#page-4 .btn-secondary').classList.add('twitch-btn');
                }
            }, 300);
        }

        playPauseBtn.addEventListener('click', () => {
            if (isMusicPlaying) {
                music.pause();
                playPauseBtn.innerHTML = '▶️ PLAY';
            } else {
                music.play();
                playPauseBtn.innerHTML = '⏸️ STOP';
            }
            isMusicPlaying = !isMusicPlaying;
        });

        const taskForm = document.getElementById('task-form');
        const taskList = document.getElementById('task-list');

        document.addEventListener('DOMContentLoaded', () => {
            loadTasks();
            // Aktifkan animasi kedut saat halaman pertama dimuat
            document.querySelector('#page-1 .btn').classList.add('twitch-btn');
        });

        taskForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const title = document.getElementById('task-title').value;
            const link = document.getElementById('task-link').value;

            if (title && link) {
                const newTask = { title, link };
                saveTask(newTask);
                renderTask(newTask);
                taskForm.reset();
                changePage('page-4');
            }
        });

        function saveTask(task) {
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
            tasks.push(task);
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        function loadTasks() {
            const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
            taskList.innerHTML = '';
            tasks.forEach(task => renderTask(task));
        }

        function renderTask(task) {
            const li = document.createElement('li');
            li.innerHTML = `
                <a href="${task.link}" target="_blank">${task.title}</a>
                <button class="btn btn-danger delete-btn">HAPUS</button>
            `;
            
            const deleteBtn = li.querySelector('.delete-btn');
            deleteBtn.addEventListener('click', () => {
                deleteTask(task);
                li.remove();
            });

            taskList.appendChild(li);
        }

        function deleteTask(taskToDelete) {
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
            tasks = tasks.filter(task => task.title !== taskToDelete.title || task.link !== taskToDelete.link);
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }
    </script>
</body>
</html>